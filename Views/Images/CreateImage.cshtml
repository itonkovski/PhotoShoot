@model ImageFormModel
@using PhotoShoot.Data.Models
@{
    ViewData["Title"] = "TaraDemo - Manage Images";
}

<section class="py-0 overflow-hidden">
    <div class="background-holder overlay overlay-2 parallax" style="background-image: url(../assets/images/main-header-1.jpg);"> </div>
    <!--/.background-holder-->
    <div class="container">
        <div class="row align-items-center justify-content-center text-center pt-8 pb-6" style="height: 50vh; min-height: 300px;" data-zanim-timeline="{}" data-zanim-trigger="scroll">
            <div class="col">
                <div class="overflow-hidden">
                    <h1 class="color-white fs-5 fs-lg-7" data-zanim='{"delay":0.1}'>Admin Dashboard</h1>
                </div>
            </div>
        </div>
        <!--/.row-->
    </div>
    <!--/.container-->
</section>

<section class="sortable pt-4 pb-0">
    <form asp-controller="Images" asp-action="CreateImage" method="post" enctype="multipart/form-data">
        <partial name="_CreateImagePartial" model="Model" />
    </form>    

    <section class="sortable pt-4 pb-0">
        <div class="container-fluid px-0">
            <h2>Existing Images</h2>
            <div class="row">
                @if (ViewBag.Images != null)
                {
                    foreach (var image in ViewBag.Images)
                    {
                        <div class="col-lg-4 mb-4">
                            <div class="image-container">
                                <img src="@image.ImageUrl" alt="@image.Title" data-toggle="modal" data-target="#imageModal-@image.Id" />
                            </div>
                        </div>
                    }
                }
                else
                {
                    <p>No images found.</p>
                }
            </div>
        </div>
    </section>

</section>

@section Scripts {
    <script>document.querySelector('#fileUploadButton').addEventListener('click', function () {
            document.querySelector('#fileUpload').click();
        });

        document.querySelector('#fileUpload').addEventListener('change', function (e) {
            var fileName = e.target.files[0].name;
            document.querySelector('#selectedFile').value = fileName;
        });</script>
}

